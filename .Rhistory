getwd()
setwd(Users/colinwelsh/Documents/dev/football)
##install.packages("devtools", "tidyverse", "readr")
##devtools::install_github(repo = "maksimhorowitz/nflscrapR")
library(nflscrapR)
library(tidyverse)
library(readr)
#setwd
if (paste(getwd()) == "/Volumes/HDD/Users/colinwelsh/" | paste(getwd()) == "Users/colinwelsh/"){
##Laptop
if (getwd() == "/Volumes/HDD/Users/colinwelsh/Documents/dev/") {
setwd("/Volumes/HDD/Users/colinwelsh/Documents/dev/")
print("Initialized on Maverick")
}
##iMac
if (getwd() == "Users/colinwelsh/Documents/dev/") {
setwd("Users/colinwelsh/Documents/dev/")
print("Initialized on Goose")
}
} else if (paste(getwd()) == "/Volumes/HDD/Users/colinwelsh/Documents/dev/football" | paste(getwd()) == "Users/colinwelsh/Documents/dev/football"){
print("Already initialized")
} else if (getwd() == "/Volumes/HDD/Users/colinwelsh/Documents/dev/football/scrape"){
setwd("/Volumes/HDD/Users/colinwelsh/Documents/dev/football/")
print("Initialized from /scrape")
} else if (getwd() == "Users/colinwelsh/Documents/dev/football/"){
setwd("Users/colinwelsh/Documents/dev/football")
print("Initialized from /scrape")
} else (print("We dont know where you are"))
getwd()
##install.packages("devtools", "tidyverse", "readr")
##devtools::install_github(repo = "maksimhorowitz/nflscrapR")
library(nflscrapR)
library(tidyverse)
library(readr)
#setwd
if (paste(getwd()) == "/Volumes/HDD/Users/colinwelsh/" | paste(getwd()) == "Users/colinwelsh/"){
##Laptop
if (getwd() == "/Volumes/HDD/Users/colinwelsh/Documents/dev/") {
setwd("/Volumes/HDD/Users/colinwelsh/Documents/dev/")
print("Initialized on Maverick")
}
##iMac
if (getwd() == "Users/colinwelsh/Documents/dev/") {
setwd("Users/colinwelsh/Documents/dev/")
print("Initialized on Goose")
}
} else if (paste(getwd()) == "/Volumes/HDD/Users/colinwelsh/Documents/dev/football" | paste(getwd()) == "Users/colinwelsh/Documents/dev/football"){
print("Already initialized")
} else if (getwd() == "/Volumes/HDD/Users/colinwelsh/Documents/dev/football/scrape"){
setwd("/Volumes/HDD/Users/colinwelsh/Documents/dev/football/")
print("Initialized from /scrape")
} else if (getwd() == "Users/colinwelsh/Documents/dev/football/scrape"){
setwd("Users/colinwelsh/Documents/dev/football")
print("Initialized from /scrape")
} else (print("We dont know where you are"))
getwd()
##install.packages("devtools", "tidyverse", "readr")
##devtools::install_github(repo = "maksimhorowitz/nflscrapR")
library(nflscrapR)
library(tidyverse)
library(readr)
#setwd
if (paste(getwd()) == "/Volumes/HDD/Users/colinwelsh/" | paste(getwd()) == "Users/colinwelsh/"){
##Laptop
if (getwd() == "/Volumes/HDD/Users/colinwelsh/Documents/dev/") {
setwd("/Volumes/HDD/Users/colinwelsh/Documents/dev/")
print("Initialized on Maverick")
}
##iMac
if (getwd() == "/Users/colinwelsh/Documents/dev/") {
setwd("Users/colinwelsh/Documents/dev/")
print("Initialized on Goose")
}
} else if (paste(getwd()) == "/Volumes/HDD/Users/colinwelsh/Documents/dev/football" | paste(getwd()) == "Users/colinwelsh/Documents/dev/football"){
print("Already initialized")
} else if (getwd() == "/Volumes/HDD/Users/colinwelsh/Documents/dev/football/scrape"){
setwd("/Volumes/HDD/Users/colinwelsh/Documents/dev/football/")
print("Initialized from /scrape")
} else if (getwd() == "/Users/colinwelsh/Documents/dev/football/scrape"){
setwd("Users/colinwelsh/Documents/dev/football")
print("Initialized from /scrape")
} else (print("We dont know where you are"))
getwd()
wd <- p1aste(getwd())
if (wd == "/Volumes/HDD/Users/colinwelsh/" | wd == "Users/colinwelsh/"){
##Laptop
if (wd == "/Volumes/HDD/Users/colinwelsh/Documents/dev/") {
setwd("/Volumes/HDD/Users/colinwelsh/Documents/dev/")
print("Initialized on Maverick")
}
##iMac
if (wd == "/Users/colinwelsh/Documents/dev/") {
setwd("Users/colinwelsh/Documents/dev/")
print("Initialized on Goose")
}
} else if (wd == "/Volumes/HDD/Users/colinwelsh/Documents/dev/football" | wd == "Users/colinwelsh/Documents/dev/football"){
print("Already initialized")
} else if (getwd() == "/Volumes/HDD/Users/colinwelsh/Documents/dev/football/scrape"){
setwd("/Volumes/HDD/Users/colinwelsh/Documents/dev/football/")
print("Initialized from /scrape")
} else if (getwd() == "/Users/colinwelsh/Documents/dev/football/scrape"){
setwd("Users/colinwelsh/Documents/dev/football")
print("Initialized from /scrape")
} else (print("We dont know where you are"))
wd <- p1aste(getwd())
wd <- paste(getwd())
if (wd == "/Volumes/HDD/Users/colinwelsh/" | wd == "Users/colinwelsh/"){
##Laptop
if (wd == "/Volumes/HDD/Users/colinwelsh/Documents/dev/") {
setwd("/Volumes/HDD/Users/colinwelsh/Documents/dev/")
print("Initialized on Maverick")
}
##iMac
if (wd == "/Users/colinwelsh/Documents/dev/") {
setwd("Users/colinwelsh/Documents/dev/")
print("Initialized on Goose")
}
} else if (wd == "/Volumes/HDD/Users/colinwelsh/Documents/dev/football" | wd == "Users/colinwelsh/Documents/dev/football"){
print("Already initialized")
} else if (getwd() == "/Volumes/HDD/Users/colinwelsh/Documents/dev/football/scrape"){
setwd("/Volumes/HDD/Users/colinwelsh/Documents/dev/football/")
print("Initialized from /scrape")
} else if (getwd() == "/Users/colinwelsh/Documents/dev/football/scrape"){
setwd("Users/colinwelsh/Documents/dev/football")
print("Initialized from /scrape")
} else (print("We dont know where you are"))
wd
setwd("~/Users/ColinWelshDocuments/dev/football")
getwd()
setwd("~/Users/ColinWelshDocuments/dev/football")
setwd("~/ColinWelshDocuments/dev/football")
setwd("~/")
getwd()
##install.packages("devtools", "tidyverse", "readr")
##devtools::install_github(repo = "maksimhorowitz/nflscrapR")
library(nflscrapR)
library(tidyverse)
library(readr)
setwd("~/")
setwd("/Volumes/HDD/Users/colinwelsh/Documents/dev/football/")
##install.packages("devtools", "tidyverse", "readr")
##devtools::install_github(repo = "maksimhorowitz/nflscrapR")
library(nflscrapR)
library(tidyverse)
library(readr)
setwd("~/")
setwd("/Users/colinwelsh/Documents/dev/football/")
##install.packages("devtools", "tidyverse", "readr")
##devtools::install_github(repo = "maksimhorowitz/nflscrapR")
library(nflscrapR)
library(tidyverse)
library(readr)
setwd("~/")
setwd("/Users/colinwelsh/Documents/dev/football/")
getwd()
pbp_data <- read.csv(file ="data/season_total/season2019.csv")
selectedYear <- 2019
selectedWeeks <- 1
game_ids <- read.csv(file = paste("data/games/game_ids",selectedYear, "week",selectedWeeks, ".csv", sep =""))
game_ids <- scrape_game_ids(selectedYear, weeks = selectedWeeks)
write.csv(game_ids, file = paste("data/games/game_ids", selectedYear, "week", selectedWeeks, ".csv", sep =""),row.names=FALSE)
View(game_ids)
gameIDvalue<- game_id_loop$game_id
getwd()
game_ids2019 <- read.csv("data/games/game_ids2019.csv")
##Get Game IDs for given week
week <- 1
selectedWeek <- game_ids2019$week == week
#create new data.frame
game_id_loop <- game_ids2019[selectedWeek,]
#sort by game ID
sort(game_id_loop$game_id, decreasing = FALSE, na.last = TRUE)
gameIDvalue<- game_id_loop$game_id
gameIDvalue<- game_id_loop$game_id
pbp_data <- scrape_json_play_by_play(gameIDvalue)
View(game_ids2019)
View(game_id_loop)
source('~/Documents/dev/football/gameids.R')
##install.packages("devtools", "tidyverse", "readr")
##devtools::install_github(repo = "maksimhorowitz/nflscrapR")
library(nflscrapR)
library(tidyverse)
library(readr)
setwd("~/")
setwd("/Users/colinwelsh/Documents/dev/football/")
getwd()
library(nflscrapR)
library(tidyverse)
library(readr)
setwd("~/")
setwd("/Users/colinwelsh/Documents/dev/football/")
getwd()
rm(game_id_loop, game_ids, game_ids2019, pbp_data)
rm(gameIDvalue, selectedWeek, selectedWeeks, selectedYear, wd, week)
##install.packages("devtools", "tidyverse", "readr")
##devtools::install_github(repo = "maksimhorowitz/nflscrapR")
library(nflscrapR)
library(tidyverse)
library(readr)
setwd("~/")
setwd("/Users/colinwelsh/Documents/dev/football/")
getwd()
rm(wd)
print("Ready for some football")
##install.packages("devtools", "tidyverse", "readr")
##devtools::install_github(repo = "maksimhorowitz/nflscrapR")
library(nflscrapR)
library(tidyverse)
library(readr)
##Likely directories
id <- "~/"
wd <- "/Users/colinwelsh/Documents/dev/football/"
setwd(id)
setwd(wd)
getwd()
rm(wd)
print("Ready for some football")
game_ids2019 <- read.csv("data/games/game_ids2019.csv")
##Get Game IDs for given week
week <- 1
selectedWeek <- game_ids2019$week == week
#create new data.frame
game_id_loop <- game_ids2019[selectedWeek,]
#sort by game ID
sort(game_id_loop$game_id, decreasing = FALSE, na.last = TRUE)
gameIDvalue<- game_id_loop$game_id
rm(wd, id)
nrow(gameIDvalue)
n_complete_games<- table(game_id_loop$state_of_game)["POST"]
n_complete_games
gameIDvalue <- game_id_loop$game_id
gameIDvalue <- game_id_loop$game_id
gameIDvalue
length(gameIDvalue)
gameIDvalue <- length(game_id_loop$game_id)
gameIDvalue <- game_id_loop$game_id
length(gameIDvalue)
game_id_loop$state_of_game == "POST"
pg_id <- game_id_loop$state_of_game == "POST"
postgame_id <- game_id_loop[pg_id,]
postgame_id
length(postgame_id)
length(pg_id)
length(game_id_loop[pg_id,])
pg_id
count(pg_id)
length(pg_id)
length(which(pg_id))
n_complete_games <- length(which(pg_id))
n_complete_games
##install.packages("devtools", "tidyverse", "readr")
##devtools::install_github(repo = "maksimhorowitz/nflscrapR")
library(nflscrapR)
library(tidyverse)
library(readr)
##Likely directories
id <- "~/"
wd <- "/Users/colinwelsh/Documents/dev/football/"
setwd(id)
setwd(wd)
getwd()
rm(wd, id)
print("Ready for some football")
View(game_id_loop)
pg_id <- game_id_loop$state_of_game == "POST"
postgame_id <- game_id_loop[pg_id,]
n_complete_games <- length(which(pg_id))
gameIDvalue
gameIDvalue[1]
##Get Game IDs for given week
week <- 1
selectedWeek <- game_ids2019$week == week
#create new data.frame
game_id_loop <- game_ids2019[selectedWeek,]
#sort by game ID
sort(game_id_loop$game_id, decreasing = FALSE, na.last = TRUE)
gameIDvalue <- game_id_loop$game_id
length(gameIDvalue)
n_complete_games
pg_id
postgame_id
sort(postgame_id$game_id, decreasing = FALSE, na.last = TRUE)
postgame_id
gameIDvalue[1]
gameIDvalue[2]
gameIDvalue[3]
sort(postgame_id$game_id, decreasing = FALSE, na.last = TRUE)
gameIDvalue[3]
gameIDpbploop <- 1
gameIDvalue[gameIDpbploop]
n_complete_games <- length(which(pg_id))
n_complete_games
gameIDselector <- 1
gameIDpbploop <- gameIDvalue[gameIDselector]
gameIDpbploop
gameIDselector ++ 1
gameIDpbploop <- gameIDvalue[gameIDselector]
gameIDpbploop
gameIDvalue[gameIDselector]
gameIDselector <- gameIDselector + 1
gameIDselector
gameIDpbploop <- gameIDvalue[gameIDselector]
gameIDpbploop
gameIDselector <- 1
gameIDpbploop <- gameIDvalue[gameIDselector]
while(game_id_loop <= n_complete_games) {
pbp_data <- scrape_json_play_by_play()
write.csv(pbp_data, file = "football/data/games/2019090806.csv",row.names=FALSE)
write.csv(pbp_data, file = "football/data/season_total/season2019.csv",row.names=FALSE)
season2019 <- read.csv(file = "football/data/season_total/season2019.csv")
merge(pbp_data, season2019, all.y = TRUE)
gameIDselector <- gameIDselector + 1
}
while(game_id_loop <= n_complete_games == TRUE) {
pbp_data <- scrape_json_play_by_play()
write.csv(pbp_data, file = "football/data/games/2019090806.csv",row.names=FALSE)
write.csv(pbp_data, file = "football/data/season_total/season2019.csv",row.names=FALSE)
season2019 <- read.csv(file = "football/data/season_total/season2019.csv")
merge(pbp_data, season2019, all.y = TRUE)
gameIDselector <- gameIDselector + 1
}
while(game_id_loop <= n_complete_games == TRUE) {
pbp_data <- scrape_json_play_by_play()
write.csv(pbp_data, file = "football/data/games/2019090806.csv",row.names=FALSE)
write.csv(pbp_data, file = "football/data/season_total/season2019.csv",row.names=FALSE)
season2019 <- read.csv(file = "football/data/season_total/season2019.csv")
merge(pbp_data, season2019, all.y = TRUE)
gameIDselector = gameIDselector + 1
}
while(game_id_loop <= n_complete_games) {
pbp_data <- scrape_json_play_by_play()
write.csv(pbp_data, file = "football/data/games/2019090806.csv",row.names=FALSE)
write.csv(pbp_data, file = "football/data/season_total/season2019.csv",row.names=FALSE)
season2019 <- read.csv(file = "football/data/season_total/season2019.csv")
merge(pbp_data, season2019, all.y = TRUE)
gameIDselector = gameIDselector + 1
}
paste("(file= football/data/games/", gameIDpbploop, ".csv, row.names=FALSE)", sep = "")
gameIDselector <- 1
gameIDpbploop <- gameIDvalue[gameIDselector]
while(game_id_loop <= n_complete_games) {
pbp_data <- scrape_json_play_by_play(gameIDpbploop)
write.csv(pbp_data, paste("file= football/data/games/", gameIDpbploop, ".csv, row.names=FALSE)", sep = ""))
##write.csv(pbp_data, file = "football/data/season_total/season2019.csv",row.names=FALSE)
season2019 <- read.csv(file = "football/data/season_total/season2019.csv")
merge(pbp_data, season2019, all.y = TRUE)
gameIDselector = gameIDselector + 1
}
game_id_loop
while(gameIDselector <= n_complete_games) {
pbp_data <- scrape_json_play_by_play(gameIDpbploop)
write.csv(pbp_data, paste("file= football/data/games/", gameIDpbploop, ".csv, row.names=FALSE)", sep = ""))
##write.csv(pbp_data, file = "football/data/season_total/season2019.csv",row.names=FALSE)
season2019 <- read.csv(file = "football/data/season_total/season2019.csv")
merge(pbp_data, season2019, all.y = TRUE)
gameIDselector = gameIDselector + 1
}
gameIDpbploop
while(gameIDselector <= n_complete_games) {
pbp_data <- scrape_json_play_by_play(gameIDpbploop)
write.csv(pbp_data, paste("file= data/games/", gameIDpbploop, ".csv, row.names=FALSE)", sep = ""))
##write.csv(pbp_data, file = "data/season_total/season2019.csv",row.names=FALSE)
season2019 <- read.csv(file = "data/season_total/season2019.csv")
merge(pbp_data, season2019, all.y = TRUE)
gameIDselector = gameIDselector + 1
}
while(gameIDselector <= n_complete_games) {
pbp_data <- scrape_json_play_by_play(gameIDpbploop)
write.csv(pbp_data, file= paste("data/games/", gameIDpbploop, ".csv, row.names=FALSE)", sep = ""))
##write.csv(pbp_data, file = "data/season_total/season2019.csv",row.names=FALSE)
season2019 <- read.csv(file = "data/season_total/season2019.csv")
merge(pbp_data, season2019, all.y = TRUE)
gameIDselector = gameIDselector + 1
}
while(gameIDselector <= n_complete_games) {
pbp_data <- scrape_json_play_by_play(gameIDpbploop)
write.csv(pbp_data, file= paste("data/games/", gameIDpbploop, ".csv", sep = ""))
##write.csv(pbp_data, file = "data/season_total/season2019.csv",row.names=FALSE)
season2019 <- read.csv(file = "data/season_total/season2019.csv")
merge(pbp_data, season2019, all.y = TRUE)
gameIDselector = gameIDselector + 1
}
while(gameIDselector <= n_complete_games) {
gameIDpbploop
#pbp_data <- scrape_json_play_by_play(gameIDpbploop)
#write.csv(pbp_data, file= paste("data/games/", gameIDpbploop, ".csv", sep = ""))
##write.csv(pbp_data, file = "data/season_total/season2019.csv",row.names=FALSE)
#season2019 <- read.csv(file = "data/season_total/season2019.csv")
#merge(pbp_data, season2019, all.y = TRUE)
gameIDselector = gameIDselector + 1
}
gameIDselector <- 1
gameIDpbploop <- gameIDvalue[gameIDselector]
while(gameIDselector <= n_complete_games) {
print(gameIDpbploop)
#pbp_data <- scrape_json_play_by_play(gameIDpbploop)
#write.csv(pbp_data, file= paste("data/games/", gameIDpbploop, ".csv", sep = ""))
##write.csv(pbp_data, file = "data/season_total/season2019.csv",row.names=FALSE)
#season2019 <- read.csv(file = "data/season_total/season2019.csv")
#merge(pbp_data, season2019, all.y = TRUE)
gameIDselector = gameIDselector + 1
}
gameIDselector <- 1
gameIDpbploop <- gameIDvalue[gameIDselector]
while(gameIDselector <= n_complete_games) {
print(gameIDpbploop)
#pbp_data <- scrape_json_play_by_play(gameIDpbploop)
#write.csv(pbp_data, file= paste("data/games/", gameIDpbploop, ".csv", sep = ""))
##write.csv(pbp_data, file = "data/season_total/season2019.csv",row.names=FALSE)
#season2019 <- read.csv(file = "data/season_total/season2019.csv")
#merge(pbp_data, season2019, all.y = TRUE)
gameIDselector = gameIDselector ++ 1
}
gameIDselector
gameIDselector <- 1
while(gameIDselector <= n_complete_games) {
gameIDpbploop <- gameIDvalue[gameIDselector]
print(gameIDpbploop)
#pbp_data <- scrape_json_play_by_play(gameIDpbploop)
#write.csv(pbp_data, file= paste("data/games/", gameIDpbploop, ".csv", sep = ""))
##write.csv(pbp_data, file = "data/season_total/season2019.csv",row.names=FALSE)
#season2019 <- read.csv(file = "data/season_total/season2019.csv")
#merge(pbp_data, season2019, all.y = TRUE)
gameIDselector = gameIDselector + 1
}
while(gameIDselector <= n_complete_games) {
gameIDpbploop <- gameIDvalue[gameIDselector]
print(gameIDpbploop)
pbp_data <- scrape_json_play_by_play(gameIDpbploop)
write.csv(pbp_data, file= paste("data/games/", gameIDpbploop, ".csv", sep = ""))
##write.csv(pbp_data, file = "data/season_total/season2019.csv",row.names=FALSE)
#season2019 <- read.csv(file = "data/season_total/season2019.csv")
#merge(pbp_data, season2019, all.y = TRUE)
gameIDselector = gameIDselector + 1
}
gameIDselector <- 1
gameIDpbploop <- gameIDvalue[gameIDselector]
while(gameIDselector <= n_complete_games) {
gameIDpbploop <- gameIDvalue[gameIDselector]
print(gameIDpbploop)
pbp_data <- scrape_json_play_by_play(gameIDpbploop)
write.csv(pbp_data, file= paste("data/games/", gameIDpbploop, ".csv", sep = ""))
##write.csv(pbp_data, file = "data/season_total/season2019.csv",row.names=FALSE)
#season2019 <- read.csv(file = "data/season_total/season2019.csv")
#merge(pbp_data, season2019, all.y = TRUE)
gameIDselector = gameIDselector + 1
}
game_ids2019 <- read.csv("data/games/game_ids2019.csv")
postgame_id
pg_id <- game_id_loop$state_of_game == "POST"
postgame_id <- game_id_loop[pg_id,]
postgame_id
View(game_ids2019)
pbp_data <- scrape_json_play_by_play(2019090900)
write.csv(pbp_data, file= paste("data/games/", 2019090900, ".csv", sep = ""))
pbp_data <- scrape_json_play_by_play(2019090901)
write.csv(pbp_data, file= paste("data/games/", 2019090901, ".csv", sep = ""))
